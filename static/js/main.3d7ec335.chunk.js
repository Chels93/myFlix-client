(this["webpackJsonp34-exercise-myflix-client-data"]=this["webpackJsonp34-exercise-myflix-client-data"]||[]).push([[0],{22:function(e,t,a){},28:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var s=a(36),r=a(2),o=a(0),c=a(58),n=a(37),i=a(9),l=a(61),d=a(25),j=a(6),m=(a(28),a(22),a(1));var b=e=>{let{movie:t,fav:a,onMovieClick:s,onAddToFavorites:r,onRemoveFromFavorites:c}=e;const n=Object(j.q)(),[i,b]=Object(o.useState)(a);return Object(m.jsxs)(l.a,{className:"movie-card",children:[Object(m.jsx)("div",{className:"card-img-container",children:Object(m.jsx)(l.a.Img,{className:"card-img",variant:"top",src:t.imagePath,alt:"".concat(t.title," poster")})}),Object(m.jsxs)(l.a.Body,{className:"card-body",children:[Object(m.jsx)(l.a.Title,{className:"card-title",children:t.title}),Object(m.jsx)(d.a,{className:"see-more",onClick:()=>{n("/movies/".concat(t._id)),"function"===typeof s?s(t):console.error("onMovieClick is not a function")},variant:"primary",children:"See More"}),Object(m.jsx)(d.a,{className:"favorite-button",variant:i?"danger":"outline-danger",onClick:e=>{e.preventDefault(),i?(c(t._id),b(!1)):(r(t._id),b(!0))},children:i?"Remove from Favorites":"Add to Favorites"})]})]})};a(48);const h=e=>{let{movies:t,onAddToFavorites:a,onRemoveFromFavorites:s,isFavorite:r}=e;const{movieId:c}=Object(j.s)(),n=Object(j.q)(),[i,l]=Object(o.useState)(null),[b,h]=Object(o.useState)(r);if(Object(o.useEffect)((()=>{const e=t.find((e=>e._id===c));e?(l(e),h(e.isFavorite||!1)):console.error("Movie not found:",c)}),[c,t]),!i)return Object(m.jsx)("div",{children:"Loading..."});return Object(m.jsxs)("div",{className:"movie-view",children:[Object(m.jsx)("div",{className:"image-container",children:Object(m.jsx)("img",{src:i.imagePath,alt:"".concat(i.title," poster")})}),Object(m.jsxs)("div",{className:"movie-details",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"movie-title",children:"Title: "}),Object(m.jsx)("span",{children:i.title})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"movie-title",children:"Synopsis: "}),Object(m.jsx)("span",{children:i.synopsis})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"movie-title",children:"Release Year: "}),Object(m.jsx)("span",{children:i.year})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"movie-title",children:"Genre: "}),Object(m.jsx)("span",{children:i.genre.name})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"movie-title",children:"Genre Description: "}),Object(m.jsx)("span",{children:i.genre.description})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"movie-title",children:"Director: "}),Object(m.jsx)("span",{children:i.director.name})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"movie-title",children:"Director Bio: "}),Object(m.jsx)("span",{children:i.director.bio})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"movie-title",children:"Director Birthyear: "}),Object(m.jsx)("span",{children:i.director.birthYear})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"movie-title",children:"Director Deathyear: "}),Object(m.jsx)("span",{children:i.director.deathYear})]})]}),Object(m.jsxs)("div",{className:"buttons-container",children:[Object(m.jsx)(d.a,{onClick:()=>{n("/")},className:"back-button",children:"Back"}),Object(m.jsx)(d.a,{onClick:()=>{b?(s(i._id),h(!1)):(a(i._id),h(!0))},className:"favorites-button ".concat(b?"favorited":""),children:b?"Remove from Favorites":"Add to Favorites"})]})]})};a(49);const u=e=>{let{onLoggedIn:t,onSignedUp:a}=e;const[s,c]=Object(o.useState)(""),[n,l]=Object(o.useState)(""),[j,b]=Object(o.useState)(""),[h,u]=Object(o.useState)(""),[v,O]=Object(o.useState)(!0);return Object(m.jsx)("div",{className:"login-container",children:Object(m.jsxs)("div",{className:"form-container",children:[Object(m.jsx)("div",{className:"navbar-brand",children:"CineVault"}),Object(m.jsxs)(i.a,{onSubmit:async e=>{e.preventDefault();const a=Object(r.a)(Object(r.a)({username:s,password:n},j&&{email:j}),h&&{birthdate:h}),o=v?"https://mymoviesdb-6c5720b5bef1.herokuapp.com/login":"https://mymoviesdb-6c5720b5bef1.herokuapp.com/users";try{const e=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok)throw new Error(v?"Login failed":"Signup failed");const s=await e.json();v?(localStorage.setItem("user",JSON.stringify(s.user)),localStorage.setItem("token",s.token),t(s.user,s.token)):(alert("Sign-up successful! Please log in."),O(!0))}catch(c){alert("Something went wrong: ".concat(c.message))}},children:[Object(m.jsxs)(i.a.Group,{controlId:"formUsername",children:[Object(m.jsx)(i.a.Label,{children:"Username:"}),Object(m.jsx)(i.a.Control,{type:"text",value:s,onChange:e=>c(e.target.value),required:!0,minLength:"3"})]}),Object(m.jsxs)(i.a.Group,{controlId:"formPassword",className:"password-group",children:[Object(m.jsx)(i.a.Label,{children:"Password:"}),Object(m.jsx)(i.a.Control,{type:"password",value:n,onChange:e=>l(e.target.value),required:!0,minLength:v?"6":void 0})]}),!v&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(i.a.Group,{controlId:"formEmail",children:[Object(m.jsx)(i.a.Label,{children:"Email:"}),Object(m.jsx)(i.a.Control,{type:"email",value:j,onChange:e=>b(e.target.value),required:!0})]}),Object(m.jsxs)(i.a.Group,{controlId:"formBirthday",children:[Object(m.jsx)(i.a.Label,{children:"Birthday:"}),Object(m.jsx)(i.a.Control,{type:"date",value:h,onChange:e=>u(e.target.value),required:!0})]})]}),Object(m.jsx)(d.a,{variant:"primary",type:"submit",className:"submit-button",children:v?"Login":"Sign Up"})]}),Object(m.jsx)(d.a,{variant:"link",onClick:()=>{O(!v),c(""),l(""),b(""),u("")},className:"toggle-button",children:v?"Don't have an account? Sign up.":"Already have an account? Login."})]})})};var v=a(59),O=a(39),x=a(60),f=a(19);a(52);const p=e=>{let{user:t,onLoggedOut:a}=e;const[s,r]=Object(o.useState)(!1),c=Object(o.useRef)(null),n=e=>{c.current&&!c.current.contains(e.target)&&r(!1)};return Object(o.useEffect)((()=>(document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n))),[]),Object(m.jsx)(v.a,{bg:"light",expand:"lg",ref:c,onToggle:()=>r(!s),expanded:s,children:Object(m.jsxs)(O.a,{children:[Object(m.jsx)(v.a.Brand,{as:f.b,to:"/",className:"navbar-brand",children:"CineVault"}),Object(m.jsx)(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(v.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsx)(x.a,{children:t&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x.a.Link,{as:f.b,to:"/",className:"nav-home",onClick:()=>r(!1),children:"Home"}),Object(m.jsx)(x.a.Link,{as:f.b,to:"/profile",className:"nav-profile",onClick:()=>r(!1),children:"Profile"}),Object(m.jsx)(x.a.Link,{onClick:()=>{a(),r(!1)},className:"nav-logout",children:"Logout"})]})})})]})})},g=e=>{let{user:t,token:a}=e;return Object(m.jsx)("div",{children:Object(m.jsx)(d.a,{onClick:()=>{t&&t.username?fetch("https://mymoviesdb-6c5720b5bef1.herokuapp.com/users/".concat(t.username),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}}).then((e=>e.ok?e.text():e.text().then((e=>{throw console.error("Error response text: ",e),new Error(e||"Failed to deregister user")})))).then((e=>{alert("User deregistered successfully! "+e),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload()})).catch((e=>{console.error("Error deregistering user: ",e),alert("Failed to deregister user. Please try again.")})):console.error("User object or username is missing")},className:"btn-secondary",children:"Deregister User"})})};var y=e=>{let{user:t,onUserUpdate:a}=e;const[s,r]=Object(o.useState)(t.username||""),[c,n]=Object(o.useState)(""),[j,b]=Object(o.useState)(t.email||""),[h,u]=Object(o.useState)(t.birthdate||""),v=localStorage.getItem("token");return Object(m.jsx)(l.a,{className:"update-user",children:Object(m.jsxs)(l.a.Body,{children:[Object(m.jsx)(l.a.Title,{children:"Update User Information"}),Object(m.jsxs)(i.a,{className:"profile-form",onSubmit:e=>{e.preventDefault();const r={username:s||t.username,email:j||t.email,birthdate:h||t.birthdate};c&&(r.password=c),console.log("Updating user with:",r),fetch("https://mymoviesdb-6c5720b5bef1.herokuapp.com/users/".concat(t.username),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:JSON.stringify(r)}).then((e=>{if(console.log("Response status:",e.status),!e.ok)throw new Error("Failed to update user.");return e.json()})).then((e=>{alert("User updated successfully!"),a(e)})).catch((e=>{console.error("Error updating user: ",e),alert("Failed to update user: ".concat(e.message))}))},children:[Object(m.jsxs)(i.a.Group,{className:"update-header",controlId:"formUsername",children:[Object(m.jsx)(i.a.Label,{className:"form-header",children:"Username"}),Object(m.jsx)(i.a.Control,{className:"form-input",type:"text",value:s,onChange:e=>r(e.target.value),placeholder:"Please enter a new username."})]}),Object(m.jsxs)(i.a.Group,{className:"update-header",controlId:"formPassword",children:[Object(m.jsx)(i.a.Label,{className:"form-header",children:"Password"}),Object(m.jsx)(i.a.Control,{className:"form-input",type:"password",value:c,onChange:e=>n(e.target.value),placeholder:"Please enter a new password."})]}),Object(m.jsxs)(i.a.Group,{className:"update-header",controlId:"formEmail",children:[Object(m.jsx)(i.a.Label,{className:"form-header",children:"Email address"}),Object(m.jsx)(i.a.Control,{className:"form-input",type:"email",value:j,onChange:e=>b(e.target.value),placeholder:"Please enter a new e-mail address."})]}),Object(m.jsxs)(i.a.Group,{className:"update-header",controlId:"formBirthdate",children:[Object(m.jsx)(i.a.Label,{className:"form-header",children:"Birthdate"}),Object(m.jsx)(i.a.Control,{className:"form-input",type:"date",value:h,onChange:e=>u(e.target.value)})]}),Object(m.jsx)(d.a,{className:"btn-primary",variant:"primary",type:"submit",children:"Update"}),Object(m.jsx)(g,{user:t,token:v})]})]})})};const N=e=>{let{username:t,email:a,birthdate:s}=e;const r=new Date(s).toLocaleDateString();return Object(m.jsxs)("div",{className:"profile-view-container",children:[Object(m.jsx)("h4",{className:"info-header",children:"Your Info"}),Object(m.jsxs)("p",{className:"info-label",children:[Object(m.jsx)("span",{className:"info-label-text",children:"Name: "}),Object(m.jsx)("span",{className:"info-value",children:t})]}),Object(m.jsxs)("p",{className:"info-label",children:[Object(m.jsx)("span",{className:"info-label-text",children:"Email: "}),Object(m.jsx)("span",{className:"info-value",children:a})]}),Object(m.jsxs)("p",{className:"info-label",children:[Object(m.jsx)("span",{className:"info-label-text",children:"Birthdate: "}),Object(m.jsx)("span",{className:"info-value",children:r})]})]})},S=e=>{let{movies:t,user:a,onAddToFavorites:s,onRemoveFromFavorites:r}=e;const[i,d]=Object(o.useState)([]),j=localStorage.getItem("token");if(Object(o.useEffect)((()=>{(async()=>{if(a&&a.username)try{const e=await fetch("https://mymoviesdb-6c5720b5bef1.herokuapp.com/users/".concat(a.username),{headers:{Authorization:"Bearer ".concat(j)}});if(!e.ok)throw new Error("Failed to fetch favorite movies");const t=await e.json();d(t.favoriteMovies||[])}catch(e){console.error("Error fetching favorite movies:",e)}else console.error("User or username is undefined.")})()}),[a,j]),Object(o.useEffect)((()=>{a&&a.favoriteMovies&&d(a.favoriteMovies)}),[a]),!t||!a||!Array.isArray(t)||!Array.isArray(i))return Object(m.jsx)("div",{children:"No favorite movies available"});const h=t.filter((e=>i.includes(e._id)));return Object(m.jsx)(O.a,{className:"favorite-movies",children:Object(m.jsx)(c.a,{children:h.length>0?Object(m.jsx)("div",{className:"card-container",children:h.map((e=>Object(m.jsx)(n.a,{xs:12,sm:6,md:4,lg:3,children:Object(m.jsx)(b,{movie:e,fav:!0,onMovieClick:()=>(e=>{console.log("Clicked Movie: ",e)})(e),onFavoriteClick:()=>{return t=e._id,void(!0?r(t):s(t));var t},onAddToFavorites:()=>s(e._id),onRemoveFromFavorites:()=>r(e._id)})},e._id)))}):Object(m.jsx)(n.a,{children:Object(m.jsx)(l.a,{children:Object(m.jsx)(l.a.Body,{children:"No favorite movies yet!"})})})})})},w=e=>{let{user:t,movies:a=[],setUser:s,onAddToFavorites:r,onRemoveFromFavorites:o}=e;const i=localStorage.getItem("token");if(!t)return Object(m.jsx)("div",{children:"User data not available"});const l=t.favoriteMovies&&Array.isArray(t.favoriteMovies)?a.filter((e=>t.favoriteMovies.includes(e._id))):[];return Object(m.jsx)(O.a,{className:"profile-view-container",children:Object(m.jsxs)(c.a,{children:[Object(m.jsxs)(n.a,{xs:12,sm:6,children:[Object(m.jsx)("div",{children:Object(m.jsx)(N,{username:t.username,email:t.email,birthdate:t.birthdate})}),Object(m.jsx)("div",{className:"user-update",children:Object(m.jsx)(y,{user:t,onUserUpdate:e=>{s(e),console.log("Updated User: ",e)}})})]}),Object(m.jsx)(n.a,{xs:12,sm:6,children:Object(m.jsxs)("div",{className:"favorite-movies",children:[Object(m.jsx)("h3",{className:"header",children:"Favorite Movies"}),Object(m.jsx)("div",{className:"card-container",children:l.length>0?Object(m.jsx)(S,{movies:l,user:t,onAddToFavorites:async e=>{try{const a=await fetch("https://mymoviesdb-6c5720b5bef1.herokuapp.com/users/".concat(t.username,"/movies/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to add movie to favorites.");const r=await a.json();alert("Movie added to Favorites!"),s(r),localStorage.setItem("user",JSON.stringify(r))}catch(a){console.error("Error adding to favorites: ",a)}},onRemoveFromFavorites:async e=>{try{const a=await fetch("https://mymoviesdb-6c5720b5bef1.herokuapp.com/users/".concat(t.username,"/movies/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(i)}});if(!a.ok)throw new Error("Failed to remove movie from favorites.");const r=await a.json();s(r),localStorage.setItem("user",JSON.stringify(r)),alert("Movie was successfully removed from favorites.")}catch(a){console.error("Error removing from favorites: ",a),alert("Failed to remove movie from favorites. Please try again.")}}}):Object(m.jsx)(n.a,{children:Object(m.jsx)("div",{children:"No favorite movies yet!"})})})]})})]})})};a(53);const F=(e,t)=>{const a=Array.from({length:e.length+1},(()=>Array(t.length+1).fill(0)));for(let s=0;s<=e.length;s++)a[s][0]=s;for(let s=0;s<=t.length;s++)a[0][s]=s;for(let s=1;s<=e.length;s++)for(let r=1;r<=t.length;r++)a[s][r]=e[s-1]===t[r-1]?a[s-1][r-1]:Math.min(a[s-1][r-1]+1,a[s][r-1]+1,a[s-1][r]+1);return 1-a[e.length][t.length]/Math.max(e.length,t.length)},k=()=>{const e=localStorage.getItem("token"),[t,a]=Object(o.useState)(null),[s,l]=Object(o.useState)(e||null),[d,v]=Object(o.useState)([]),[O,x]=Object(o.useState)(null),[g,y]=Object(o.useState)(""),[N,k]=Object(o.useState)([]),[C,L]=Object(o.useState)(""),[E,I]=Object(o.useState)(""),[A,T]=Object(o.useState)([]),[M,U]=Object(o.useState)([]);Object(o.useEffect)((()=>{s&&fetch("https://mymoviesdb-6c5720b5bef1.herokuapp.com/movies",{headers:{Authorization:"Bearer ".concat(s)}}).then((e=>{if(!e.ok)throw new Error("Failed to fetch movies.");return e.json()})).then((e=>{console.log("Movies fetched successfully: ",e),v(e);const t=Array.from(new Set(e.map((e=>e.genre.name))));T(t);const a=(e=>{const t=new Set;return e.filter((e=>{const a=t.has(e.name);return t.add(e.name),!a}))})(e.map((e=>e.director)));U(a)})).catch((e=>{console.error("Error fetching movies: ",e)}))}),[s]),Object(o.useEffect)((()=>{if(""===g)return void k([]);const e=g.toLowerCase(),t=d.map((t=>Object(r.a)(Object(r.a)({},t),{},{similarity:F(t.title.toLowerCase(),e)}))).filter((e=>e.similarity>.3)).sort(((e,t)=>t.similarity-e.similarity));k(t)}),[g,d]);const B=e=>{fetch("https://mymoviesdb-6c5720b5bef1.herokuapp.com/users/".concat(t.username,"/movies/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{alert("Movie added to Favorites!"),a(t),localStorage.setItem("user",JSON.stringify(t)),v((t=>t.map((t=>t._id===e?Object(r.a)(Object(r.a)({},t),{},{isFavorite:!0}):t))))})).catch((e=>{console.error("Error adding to favorites: ",e)}))},_=e=>{fetch("https://mymoviesdb-6c5720b5bef1.herokuapp.com/users/".concat(t.username,"/movies/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}}).then((e=>{if(!e.ok)throw new Error("Failed to remove movie from favorites.");return e.json()})).then((t=>{console.log("Success: ",t),alert("Movie was successfully removed from list."),a(t),localStorage.setItem("user",JSON.stringify(t)),v((t=>t.map((t=>t._id===e?Object(r.a)(Object(r.a)({},t),{},{isFavorite:!1}):t))))})).catch((e=>{console.error("Error removing from favorites: ",e)}))};if(!t)return Object(m.jsx)(c.a,{className:"justify-content-md-center",children:Object(m.jsx)(n.a,{md:5,children:Object(m.jsx)(u,{onLoggedIn:(e,t)=>{a(e),l(t),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",t)}})})});const D=d.filter((e=>!t.favoriteMovies.includes(e._id))).filter((e=>!C||e.genre.name.toLowerCase().includes(C.toLowerCase()))).filter((e=>!E||e.director.name.toLowerCase().includes(E.toLowerCase()))).filter((e=>!C||e.genre.name.toLowerCase().includes(C.toLowerCase()))).filter((e=>!E||e.director.name.toLowerCase().includes(E.toLowerCase()))).filter((e=>e.title.toLowerCase().includes(g.toLowerCase())));return Object(m.jsxs)(f.a,{children:[Object(m.jsx)(p,{user:t,onLoggedOut:()=>{a(null),l(null),localStorage.removeItem("user"),localStorage.removeItem("token")}}),Object(m.jsx)(c.a,{className:"justify-content-md-center",children:Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{path:"/login",element:Object(m.jsx)(m.Fragment,{children:t?Object(m.jsx)(j.a,{to:"/"}):Object(m.jsx)(n.a,{md:5,children:Object(m.jsx)(u,{onLoggedIn:(e,t)=>{a(e),l(t),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",t)}})})})}),Object(m.jsx)(j.b,{path:"/movies/:movieId",element:t?0===d.length?Object(m.jsx)(n.a,{children:"The list is empty!"}):Object(m.jsx)(n.a,{md:8,style:{border:"1px solid black"},children:O?Object(m.jsx)(h,{movies:d,movie:O,onBackClick:()=>{x(null)},onAddToFavorites:B,onRemoveFromFavorites:_,isFavorite:t.favoriteMovies.includes(O._id)}):Object(m.jsx)(j.a,{to:"/",replace:!0})}):Object(m.jsx)(j.a,{to:"/login",replace:!0})}),Object(m.jsx)(j.b,{path:"/favorites",element:t?Object(m.jsx)(S,{movies:d,user:t,onAddToFavorites:B,onRemoveFromFavorites:_,onMovieClick:e=>x(e)}):Object(m.jsx)(j.a,{to:"/login",replace:!0})}),Object(m.jsx)(j.b,{path:"/",element:Object(m.jsx)(m.Fragment,{children:t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(n.a,{md:12,className:"mb-4",children:Object(m.jsx)("input",{type:"text",placeholder:"Search for a movie...",value:g,onChange:e=>y(e.target.value),className:"search-input"})}),Object(m.jsxs)(n.a,{md:12,className:"filter-container",children:[Object(m.jsx)("div",{className:"filter-group",children:Object(m.jsx)(i.a,{children:Object(m.jsxs)(i.a.Group,{controlId:"genreFilter",children:[Object(m.jsx)(i.a.Label,{children:"Filter by Genre:"}),Object(m.jsxs)(i.a.Control,{as:"select",value:C,onChange:e=>L(e.target.value),children:[Object(m.jsx)("option",{value:"",children:"Select Genre"}),A.map(((e,t)=>Object(m.jsx)("option",{value:e,children:e},t)))]})]})})}),Object(m.jsx)("div",{className:"filter-group",children:Object(m.jsx)(i.a,{children:Object(m.jsxs)(i.a.Group,{controlId:"directorFilter",children:[Object(m.jsx)(i.a.Label,{children:"Filter by Director:"}),Object(m.jsxs)(i.a.Control,{as:"select",value:E,onChange:e=>I(e.target.value),children:[Object(m.jsx)("option",{value:"",children:"Select Director"}),M.map(((e,t)=>Object(m.jsx)("option",{value:e.name,children:e.name},t)))]})]})})})]}),Object(m.jsx)(c.a,{className:"card-container",children:0===D.length&&0===N.length?Object(m.jsx)(n.a,{className:"text-center",children:"The list is empty or no matching movies found."}):0===D.length?Object(m.jsxs)(n.a,{className:"text-center",children:["No matching movies found. Try another search or check these suggestions:",Object(m.jsx)("div",{children:N.map((e=>Object(m.jsx)("div",{children:e.title},e._id)))})]}):D.map((e=>Object(m.jsx)(n.a,{className:"mb-5",md:3,children:Object(m.jsx)(b,{movie:e,fav:(t.favoriteMovies||[]).includes(e._id),onAddToFavorites:()=>B(e._id),onRemoveFromFavorites:()=>_(e._id),onMovieClick:()=>x(e)})},e._id)))})]}):Object(m.jsx)(j.a,{to:"/login",replace:!0})})}),Object(m.jsx)(j.b,{path:"/profile",element:t?Object(m.jsx)(w,{user:t,movies:d,setUser:e=>{a(e),localStorage.setItem("user",JSON.stringify(e))},onRemoveFromFavorites:_}):Object(m.jsx)(j.a,{to:"/login",replace:!0})})]})})]})};a(54),a(55);const C=()=>Object(m.jsx)(O.a,{children:Object(m.jsx)(k,{})}),L=document.querySelector("#root");Object(s.createRoot)(L).render(Object(m.jsx)(C,{}))}},[[56,1,2]]]);
//# sourceMappingURL=main.3d7ec335.chunk.js.map